<!--
	Nama	: Muhammad Hisyam Mukhtar
	NIM		: 15650106
	Kelas	: Pem. Web - B
-->
<html>
	<head>
		<title>BeAr Quiz</title>
		<style type="text/css">
			body {
				margin: 0;
				font-family: arial;
			}
			input[type="button"], input[type="text"] {
				width: 175px;
				height: 30px;
				border: none;
				background: #99f;
			}
		</style>
		<script language="javascript">
			// Variabel Utama
			var title_code = "<font size=6>BeAr Quiz</font><br>"
			var sub_code = "<font size=2>( Belajar Aritmatika )</font><br><br><br>"
			var nama = "";
			var score = 0;
			var waktu_soal = 20;
			var text = "";

			var ar_hasil = 0;
			var ar_soal = 0;
			var ar_jml_quis = 20;
			var ar_quis = 0;
			var ar_jawab = 0;

			var time;

			// Loading Screen
			function loading() {
				var status = 0;
				var max = 100;
				var loading = setInterval(function() {
					text = title_code + sub_code
					for(var x = 0; x <= status; x++) {
						text += "|";
					}
					for(var p = 0; p < max; p++) {
						text += "<font color=white>|</font>";
					}
					text += "<b> " + status + "%</b>";
					if(max == 0) {
						text = 	text = title_code + sub_code +
								"<input type=button value='Klik Untuk Lanjut' onclick=menu_setnama()>";
						clearInterval(loading);
					}
					document.getElementById("scr").innerHTML = text;
					status ++;
					max --;
				}, 50);
			}

			// Input Nama
			function menu_setnama() {
				text = 	title_code + sub_code +
						"Masukan Nama Anda<br>" +
						"<input id=user type=text><br><br>" +
						"<input type=button value=OK onclick=setnama()>";
				document.getElementById("scr").innerHTML = text;
			}

			// Menu Utama
			function menu_utama() {
				text = 	title_code + sub_code +
						"<input type=button value='Mulai Game' onclick=menu_hitung()><br><br>" +
						"<input type=button value='Tips' onclick=menu_tips()><br><br>" +
						"<input type=button value='Pengaturan' onclick=menu_pengaturan()><br><br>" +
						"<input type=button value='Tentang' onclick=menu_tentang()>";
				document.getElementById("scr").innerHTML = text;
				document.getElementById("inama").innerHTML = "<font face=arial><b>Hai, </b>" + nama + "</font>";
				// document.getElementById("iscore").innerHTML = "<font face=arial><b>Score : </b>" + score + "</font>";
			}

//============ Menu Utama ============//
			// Menu Aritmatika
			function menu_hitung() {
				text = 	title_code + sub_code +
						"<hr>" +
						"<font size=5><b> - Pilih Kategori -</b></font><br><br>" +
						"<input type=button value='Penjumlahan' onclick=menu_soal(0)><br><br>" +
						"<input type=button value='Pengurangan' onclick=menu_soal(1)><br><br>" +
						"<input type=button value='Perkalian' onclick=menu_soal(2)><br><br>" +
						"<input type=button value='Pembagian' onclick=menu_soal(3)><br><br><br>" +
						"<input type=button value='Kembali' onclick=menu_utama()>";
				document.getElementById("scr").innerHTML = text;
			}

			// Menu Tips
			function menu_tips() {
				text = 	title_code + sub_code +
						"<hr>" +
						"<font size=5><b> - Tips Perkalian -</b></font><br><br>" +
						"Jika ada perkalian dengan bilangan yang sama misalnya 14 x 14 " +
						"atau 21 x 21, caranya cepat untuk menghitung nya seperti ini :<br><br>" +
						"14<br>14<br>----- x<br>  ?<br><br>" +
						"Tiap angka dikalikan per kolom, 1 x 1 dan 4 x 4 maka didapati hasil 1 dan 16, dan bisa ditulis 116<br>" +
						"Selanjutnya yaitu menjumlahkan angka 4 dengan 4 dan hasilnya 8<br><br>" +
						"1 1 6<br>" +
						"0 8 0<br>" +
						"-------- +<br>" +
						"1 9 6<br><br>" +
						"Jadi hasil perkalian 14 x 14 adalah 196<br><br><br>" +
						"<input type=button value='Kembali' onclick=menu_utama()>";
				document.getElementById("scr").innerHTML = text;
			}

			// Menu Pengaturan
			function menu_pengaturan() {
				text = 	title_code + sub_code +
						"<hr>" +
						"<font size=5><b>- Pengaturan- </b></font><br><br>" +
						"<input type=button value='Reset Data' onclick=reset_confirm()><br><br><br>" +
						"<input type=button value='Kembali' onclick=menu_utama()>";
				document.getElementById("scr").innerHTML = text;
			}
			function reset_confirm() {
				text = 	title_code + sub_code +
						"<hr>" +
						"Yakin Ingin Menghapus Data User ?<br><br>" +
						"<input type=button value='Ya' onclick=reset_data()><br><br>" +
						"<input type=button value='Tidak' onclick=menu_pengaturan()>";
				document.getElementById("scr").innerHTML = text;
			}

			// Menu Tentang
			function menu_tentang() {
				text = 	title_code + sub_code +
						"<hr>" +
						"<font size=5><b>- Tentang -</b></font><br><br>" +
						"<b>Pembuat :</b><br>" +
						"Muhammad Hisyam Mukhtar<br><br>" +
						"<b>Dosen Pengampu :</b><br>" +
						"Dr. Muhammad Faisal,S.Kom.,M.T<br><br>" +
						"<b>Universitas Islam Negeri Maulana Malik Ibrahim<br>Malang<b></font>" +
						"<br><br><br>" +
						"<input type=button value='Kembali' onclick=menu_utama()>";
				document.getElementById("scr").innerHTML = text;
			}

//====================================//
			// Soal Acak
			function menu_soal(x) {
				var soal = ["Penjumlahan", "Pengurangan", "Perkalian", "Pembagian"];
				var opr = [" + ", " - ", " x ", " / "];
				var a = angka_acak(20); // angka acak dari 1 - 20
				var b = angka_acak(20); // angka acak dari 1 - 20

				// Pada Pengurangan - jika b lebih besar dari a, maka nilai akan di tukar
				if(x == 1) {
					if(b > a) {
						var tm = a;
						a = b;
						b = tm;
					}
				}
				ar_hasil = cek_hasil(a, b, x);
				ar_soal = x;
				ar_quis++;
				var waktu = waktu_soal;
				if(ar_quis > ar_jml_quis) {
					text = 	title_code + sub_code +
							"<hr>" +
							"<font size=4>Quis Bekakhir</font><br><br>" +
							"<b>Score : </b>" + score + "<br><br>" +
							"<b>Quis Terselesaikan : </b>" + ar_jawab + " / " + ar_jml_quis + "<br><br>" +
							"<input type=button value='Menu Utama' onclick='reset_score(); menu_utama();'><br><br>" +
							"<input type=button value='Ulangi Lagi' onclick='reset_score(); menu_soal(" + x + ");'>";
					reset(); // Reset Score, Jumlah Quis Yang diselesaikan, Quis Aktif
					clearInterval(time); // Menghentikan Waktu
				}
				else {
					text = 	title_code + sub_code +
							"<hr>" +
							"<font size=4>Quis " + soal[x] + "</font><br>" +
							"<font size=2>( Soal " + ar_quis + " / " + ar_jml_quis + " )</font><br><br>" +
							a + opr[x] + b + " = ?<br><br>";
					menu_jawaban(ar_hasil);
					document.getElementById("iscore").innerHTML = "<b>Score : </b>" + score;
				}
				document.getElementById("scr").innerHTML = text;
				if(ar_quis < ar_jml_quis) {
					time = setInterval(function() {
						if(waktu >= 0) {
							document.getElementById("iwaktu").innerHTML = "<b>Waktu : </b>" + waktu + " (Detik)";
							waktu--;
						}
						else {
							text = 	title_code + sub_code +
									"<hr>" +
									"<font size=4>Waktu Habis :(</font><br><br>" +
									"<input type=button value='Lanjut >>' onclick=menu_soal(" + ar_soal + ")><br><br>" +
									"<input type=button value='Menu Utama' onclick='reset_score(); reset(); menu_utama();'>";
							document.getElementById("scr").innerHTML = text;
							clearInterval(time); // Menghentikan Waktu
						}
					}, 1000);
				}
			}

			// Tombol Jawaban Acak
			function menu_jawaban(ar_hasil) {
				var jawab = [0, 0, 0, 0]; // Penempatan tombol. Tombol 1, 2, 3, 4
				var rand_jwb = angka_acak(3); // Random Penempatan Tombol Jawaban
				for(var i = 0; i <= 3; i++) {
					if(i == rand_jwb) jawab[i] = ar_hasil; // Set nilai pada Tombol yang sudah di acak
					else {
						// Pembeda jawaban
						jawab[i] = ar_hasil + i + 1;
					}
				}
				text += "<input type=button value=" + jawab[0] + " onclick=cek_jawaban(" + jawab[0] + ")><br><br>" +
						"<input type=button value=" + jawab[1] + " onclick=cek_jawaban(" + jawab[1] + ")><br><br>" +
						"<input type=button value=" + jawab[2] + " onclick=cek_jawaban(" + jawab[2] + ")><br><br>" +
						"<input type=button value=" + jawab[3] + " onclick=cek_jawaban(" + jawab[3] + ")>";
			}

//====================================//
			// Set Nama user
			function setnama() {
				nama = document.getElementById("user").value;
				menu_utama();
			}

			// Menampilkan Angka Acak
			function angka_acak(x) {
				var num = Math.floor(Math.random() * (x + 1) );
				return num;
			}

			// Reset Tampilan - Score dan Waktu
			function reset() {
				document.getElementById("iscore").innerHTML = "";
				document.getElementById("iwaktu").innerHTML = "";
			}

			// Reset Data - User
			function reset_data() {
				document.getElementById("inama").innerHTML = "";
				menu_setnama();
			}

			// Reset Score
			function reset_score() {
				score = 0;
				ar_quis = 0;
				ar_jawab = 0;
			}

			// Cek Hasil Pertanyaan
			function cek_hasil(a, b, x) {
				var hasil = 0;
				if(x == 0) hasil = a + b;
				else if(x == 1) hasil = a - b;
				else if(x == 2) hasil = a * b;
				else hasil = a / b;

				return hasil;
			}

			// Cek Jawaban
			function cek_jawaban(a) {
				// (a) adalah jawaban dan
				if(a == ar_hasil) {
					clearInterval(time);
					text = 	title_code + sub_code +
							"<hr>" +
							"<font size=4>Jawaban Benar :D</font><br><br>" +
							"<input type=button value='Lanjut >>' onclick=menu_soal(" + ar_soal + ")><br><br>" +
							"<input type=button value='Menu Utama' onclick='reset_score(); reset(); menu_utama();'>";
					score += 5;
					ar_jawab++;
					document.getElementById("scr").innerHTML = text;
					document.getElementById("iscore").innerHTML = "<font face=arial><b>Score : </b>" + score + "</font>";
				}
				else {
					clearInterval(time);
					text = 	title_code + sub_code +
							"<hr>" +
							"<font size=4>Jawaban Salah :(</font><br><br>" +
							"<input type=button value='Lanjut >>' onclick=menu_soal(" + ar_soal + ")><br><br>" +
							"<input type=button value='Menu Utama' onclick='reset_score(); reset(); menu_utama();'>";
					document.getElementById("scr").innerHTML = text;
				}
			}
		</script>
	</head>
	<body bgcolor="#ddf" onload="loading()">
		<table cellpadding="5" cellspacing="0" width="100%" height="100%" >
			<tr height="7%" bgcolor="#99f">
				<td width="25%">
					<p id="inama"></p>
				</td>
				<td width="25%">
					<p id="iscore"></p>
				</td>
				<td width="40%">
					<p id="iwaktu"></p>
				</td>
				<td width="10%">
					<p id="iversion">v 1.0</p>
				</td>
			</tr>
			<tr>
				<td colspan="4">
					<center>
						<p id="scr"></p>
					</center>
				</td>
			</tr>
		</table>
	</body>
</html>
